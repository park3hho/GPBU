# 5주차 1교시: 관계 대수의 특징 및 연산자
## E5. 관계 대수의 특징 및 일반 집합 연산자 종류
### (1) 관계 대수의 특징
관계 대수란
- 릴레이션을 처리하기 위한 연산의 집합

- 수학적 이론으로부터 나온 `일반 집합 연산자`
- 관계 데이터베이스에 적용할 수 있게 온 `순수 관계 연산자`

### (2) 일반 집합 연산자 종류
#### ㄱ. 합집합 `위열린 반원`
웬만해선 속성이 같을 때 쓸듯

- 합병 가능한 두 릴레이션 R과 S의 합집합
- 결과 릴레이션의 degree
  - R 또는 S의 차수
- 결과 릴레이션의 Cardinality
  - 합집합 < R + S

#### ㄴ. 교집합 `아래 열린 반원`
- 합병 가능한 두 릴레이션 R과 S의 교집합
- 결과 릴레이션의 degree
  - R 또는 S의 차수
- 결과 릴레이션의 Cardinality
  - 교집합 < Min(R, S)

#### ㄷ. 차집합 `-`
- 합병 가능한 두 릴레이션의 R과 S의 차집합
- 결과 릴레이션의 degree
  - R 또는 S의 차수
- 결과 릴레이션의 Cardinality
  - 차집합 < R

#### ㄹ. 카티션 프로덕트, `x`
- 합병 가능하지 않아도 됨
- 결과 릴레이션의 Degree
    - R + S
- 결과 릴레이션의 Cardinality
  - 카티션 프로덕트 = R x S

### (3) 합병 가능
- 속성의 이름은 달라도 도메인이 같아야함.

### (4) 일반 집합 연산자 특징
- **교환법칙**: R과 S의 위치가 바뀌어도 되냐 안되냐.
  - R + S = S + R
- **결합법칙**: R과 S의 위치가 바뀌어도 되냐 안되냐
  - (R + S) + A = R + (S + A)
#### ㄱ. 교환법칙, 결합법칙 성립
- 합집합
- 교집합
- 조인(동등조인, 자연조인)
- 카티션 프로덕트

#### ㄴ. 교환법칙, 결합법칙 비성립
- 차집합
- 디비전
- 조인(세미조인)

## F6. 순수 관계 연산자의 종류 및 특징
### (1) 순수 관계 연산자 종류
#### ㄱ. 셀렉트
- 릴레이션에서 주어진 조건들을 만족하는 튜플들을 선택하는 연산
- 릴레이션의 **수평적 부분집합**(horizontal subset)
- SQL 에서 SELECT 명령어의 WHERE 절에 해당
- 하나의 릴레이션 만을 적용 대상으로 함
- 셀렉트 결과 튜플의 수
  - 피연산자 릴레이션의 튜플의 수보다 작거나 같음

> **선택도**
>- 선택조건에 의해 선택된 튜플의 비율
>  - 선택된 튜플 수 / 릴레이션의 전체 튜플 수
>- 선택 조건의 선택도
>  - 질의 최적화를 수행할 때 중요한 수행척도가 됨
>- 질의문에 여러 개의 연산자가 존재할 때
>  - 선택도가 작은 것을 먼저 수행하고, 큰것을 나중에 수행하면 질의를 아주 효율적으로 처리할 수 있음.

#### ㄴ. 프로젝트
- 릴레이션의 애트리뷰트를 연산 대상으로 함
- 릴레이션의 **수직적 부분집합**(vertical subset)
- 프로젝트 연산 결과로 만들어진 릴레이션에 똑같은 튜플이 중복되면 시스템은 그 중 하나만 제외하고 모두 제거함.
- project 결과의 차수 및 튜플 수
  - 원래 릴레이션보다 작거나 같음
- 프로젝트 열 들
  - SQL 언어에서 SELECT 절의 열-이름 리스트

#### ㄷ. 조인
- 릴레이션 R의 애트리뷰트 A와 릴레이션 S의 애트리뷰트 B를 통한 조인
- 결과 릴레이션의 차수
  - 릴레이션 R의 차수와 S의 차수를 합친것
- Cartisian Product와 Selection을 하나로 결합한 **이항 연산자**
- **Natural Join**은 속성이 중복되면 하나만 남기고 모두 제거

조인의 종류
- 세타조인
- 동일조인
- 자연조인

#### ㄹ. 디비전
- R / S : S의 값을 다 빼고, 중복된거 없앰

#### ㅁ. 개명연산
- 관계 대수의 연산으로 만들어진 결과는 이름이 없어서 별도로 참조가 어려움
- 잠시 임시 저장하기 위한 이름값임.

### (2) 기본연산과 복합연산
#### ㄱ. 기본연산
- 하나의논리적 기능을 수행하는 것
- 다른 연산자로 표현할 수 없는 기본 연산자
- 조인
  - 합집합, 차집합, 카티션 프로덕트, 프로젝트, 셀렉트
#### ㄴ. 복합연산
- 다른 기본 연산자로 바꾸어 표현할 수 있는 연산자
- 종류 
  - 조인, 교집합, 디비전
#### ㄷ. 관계대수연산의 우선순위
- 연산자 우선순위
  - 1위: 프로젝트
  - 2위: 셀렉트
  - 3위: 카티션 프로덕트
  - 4위: 조인, 디비전
  - 5위: 차집합
  - 6위: 합집합, 교집합

---
# 5주차 2교시: 관계 대수의 확장 및 관계 해석
## G7. 세미조인 및 외부조인 정의 및 사용방법
### (1) 세미조인
> **조인 애트리뷰트로 S 프로젝트한 결과를 R에 자연조인 시킨 것**
- R과 S를 자연 조인한 결과에 R의 애트리뷰트로 프로젝트 한 것과 같음
- R과 S의 조인에서 R만 출력됨.

**자연조인이 뭐냐?** 공통된 속성들을 키값으로 R과 S의 나머지 값들을 추출하는거임 ㄹㅇ;
### (2) 외부조인
> 조인 시 한 릴레이션에 있는 튜플이 조인할 상대 릴레이션에 대응되는 튜플이 없을 경우에 상대를 null 튜플로 만들어 결과 릴레이션에 포함.
- 두 릴레이션의 모든 튜플들이 결과 릴레이션에 나타남

#### ㄱ. 좌측 외부조인
- 오른쪽 릴레이션과 어떤 튜플과도 부합하지 않는 릴레이션 내의 모든 튜플을 취함
- 오른쪽 릴레이션의 속성들을 널 값으로 채우고, 자연 조인의 결과에 이 튜플들을 추가

우측은 반대겠지? ㅇㅇ;

완전 외부조인은 = 좌 + 우

### (3) 외부합집합
**합병 가능하지 않은** 두 릴레이션의 차수를 확장시켜 합집합으로 만든 것

## H8. 관계 대수의 질의문 표현방법
## I9. 관계 대수와 관계 해석의 비교
### (1) 관계 해석의 특징
- 원하는 정보가 뭔지 (What)만 선언하는 비절차적
- 일대일 대응 관계가 성립함
- 튜플 관계 해석과 도메인 관계 해석으로 구분
## J10. 튜플관계 해석과 도메인관계 해석
### (1) 튜플 관계 해석
- 원하는 릴레이션을 튜플 해석식으로 정의
- 연산 단위는 튜플이며 QUEL이 대표적인 DB 접근
- 정형식
  - 원자식
  - Boolean 연산자
  - 정량자가 결합된 식
