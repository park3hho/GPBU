# 3주차 1교시: 데이터베이스 설계
## Q16. 개념적 논리적, 물리적 설계 개요
### (1) 데이터베이스 생명주기(Life Cycle)
요구조건 분석 &rarr; 설계 &rarr; 구현 &rarr; 운영 &rarr; 감시 및 개선 

#### ㄱ. 요구조건 분석
- 데이터베이스에 저장할 데이터의 범위를 정의하기 위하여 사용자와 그 응용을 식별하고 그들이 필요로 하는 요구사항 분석

#### ㄴ. 설계
- 개념적인 설계에서 시작하여 논리적인 설계를 거쳐 목표 DBMS에 구현할 수  있는 물리적 설계까지 포함

#### ㄷ. 구현
- 설계된 데이터베이스 스키마의 정의, 데이터베이스 파일의 생성, 응용 소프트웨어를 목표 DBMS 환경에 맞도록 구현

#### ㄹ. 운영
- 데이터베이스 시스템과 응용 시스템을 실제로 운영하고 관리하여 사용자 요구에 따라 서비스 제공

#### ㅁ. 감시 및 개선
- 운영하는 과정에서 발생하는 새로운 요구조건이나 응용에 대처
- 다양한 변동에 따라 저하될지 모르는 성능을 개선

### (2) 데이터베이스 설계 단계
데이터베이스 설계 목표
- 사용자들의 요구조건 만족
- 쉽게 이해할 수 있는 정보 구조 제공
- 처리 요구 조건과 응답시간, 처리시간, 저장 공간 등과 같은 성능 관련 요소 지원

> DB 설계는 사용자의 요구조건에서부터 데이터베이스 구조를 도출해내는 과정

- 요구조건 분석
- 개념적 설계
- 논리적 설계
- 물리적 설계
- 구현

#### ㄱ. 데이터베이스 설계 작업 구분
데이터 중심 설계
- 데이터베이스의 내용과 구조에 치중한 설계

처리 중심 설계
- 데이터 처리와 응용에 치중한 설계

### (3) 요구조건 분석
정적 정보 구조
- 개체, 애트리뷰트, 관계성, 제약 조건 
- 테이블을 뜻함.

동적 데이터베이스
- 트랜잭션 유형, 트랜잭션 실행빈도
- 실질적인 사용 방식을 의미함.

범 기관적 제약 조건
- 기관의 경영목표, 정책, 규정 등

#### ㄱ. DB 사용에 필요한 정보 수집
- 사용자 그룹, 업무, 데이터 종류, 데이터 흐름 등
#### ㄴ. 범 기관적 경영 목표와 제약 조건을 식별
#### ㄷ. 공식 요구 조건 명세, 작성 및 검토
- **HIPO**(Hierarchy Input Process Output)
  - Input-Process-Output 으로 이루어진 모듈을 계층적으로 나타낸 도표
  - 시스템의 기능을 여러개의 고유 모듈들로 분할하여 이들 간의 인터페이스를 계층 구조로 표현한 도형 또는 도면

- **DFD**(Data Flow Diagram) 
  - 데이터가 각 프로세스를 따라 흐르면서 변환되는 모습을 나타낸 그림
  - **시스템 분석과 설계**에서 매우 유용하게 사용

- **SADT**(Structured Analysis and Design Technique)
  - Softtech에서 개발
  - 시스템 구조를 **계층적**으로 **기술**하고 대규모/복잡한 문제를 **구조적**으로 **분석**

#### ㄹ. 최종 시스템 명세 작성

### (4) 개념적 설계
**개념적 스키마 모델링**
- ERD 같은 개념적 데이터 모델
- 즉, DBMS에 독립적이고 고차원적인 표현 방법으로 기술하는 것

**추상화**: 개념적 스키마를 유도하는 기본원리
- 집단화
  - 여러 애트리뷰트를 그룹, 하나의 개체로 만드는 것 (속성들을 통해 만들어짊.)
- 일반화
  - 공통 성질을 가진 여러 부류의 개체들을 일반적이고 포괄적인 개체로 만드는 것 (개체들을 모음)

**트랜잭션 모델링**
- 트랜잭션을 고차원 명세로 정의하는 것
  - 트랜잭션의 유형: 검색, 갱신, 삽입, 삭제

### (5) 논리적 설계
**개요**: 개념적 설계 단계에서 생성된 독립적 개념 스키마를 목표 DBMS에 맞는 논리적 스키마로 변환하는 것
- **정규화** 이론에 의한 DB 설계 최적화를 실행
- **트랜잭션 인터페이스** 설계
  - 응용 프로그램의 인터페이스 설계

**스키마의 평가 및 정제**
- 정량적 정보
- 성능 평가 기준

**DBMS의 선정 기준(비용 중심)**
- 기본적인 기능과 추가적인 기능
- 소프트웨어 구입비용
- 유지비용
- 하드웨어 구입비용
- DB 생성과 변환비용
- 인건비 및 교육 훈련비용
- 운영비용

### (6) 물리적 설계
**개요**: 논리적 스키마로부터 효율적인 내부 스키마를 설계하는 것
- 트랜잭션의 **상세 설계상세 설계** 병행
- 데이터베이스의 물리적 구조는 데이터베이스 시스템의 성능에 중대한 영향을 미침
- 물리적 데이터베이스의 기본적인 데이터 단위
  - 저장 레코드(stored record) &larr; 물데에서 말하는 데이터베이스

여러 파일 타입에 대한 저장 레코드의 양식, 순서, 접근경로, 저장공간의 할당 등을 표현한 것

**물리적 설계의 옵션 선택 시 고려사항**
- 응답시간
  - 데이터베이스 트랜잭션을 실행시키기 위해 시스템에 **입력시킨 때부터 다시 결과를 받을 때까지 걸리는 시간**
- 저장 공간의 효율화
  - 데이터베이스 파일과 접근 경로 구조 등을 저장하기 위한 **최소한의 저장공간을 사용**하는 것
- 트랜잭션 처리도(throughput)
  - 단위 시간에 DB 시스템이 처리할 수 있는 평균 트랜잭션의 수

### (7) 구현
#### ㄱ. 데이터베이스 생성
- DBMS의 **DDL**로 기술된 명령문이 컴파일 되고 실행
- 데이터베이스 스키마와 빈 데이터베이스가 생성
- 데이터가 데이터베이스에 적재
  - 필요 시 변환 루틴이나 유틸리티에 의해 적재

#### ㄴ. 저장공간 평가
- 주기억장치 공간
- 보조 기억장치 공간

### ㄷ. 시간 평가
- 질의 응답시간
- 트랜잭션 갱신 시간
- 보고서 작성 시간

## R17. 데이터베이스 설계 시 고려사항
### (1) 무결성
- 갱신, 삽입, 삭제 등의 연산 수행 뒤에도 데이터 값은 항상 주어진 제약조건을 만족해야 하는 것

**개체 무결성**
- 기본키(Primary Key)는 유일한 값을 가져야 하며 Null 값을 가질 수 없음

**참조 무결성**
- 외래키의 값이 참조하고 있는 기본키의 값에 부합해야하며, Null 값을 가질 수 있음(아직 참조할 튜플을 결정하지 못한 것)

**도메인 무결성**
- 속성의 값의 범위인 도메인을 만족해야 하는 것을 의미함.

### (2) 일관성
- 질의에 대한 응답에 모순이 있어선 안됨
- 실행 중의 일관성 위반은 허용하지만, 결과의 일반성은 반드시 지켜져야함

### (3) 회복
- 시스템 장애 발생시 복구하는 능력

### (4) 보안
- 보안은 중요하니깐
  - 임의접근 제어기법: ID나 비밀번호를 통하여 접근을 제어.
  - 강제접근 제어기법: 객체 자체에 등급을 부여하여 객체의 접근 권한을 제어하는 것.

### (5) 효울성
- 응답시간 단축
- 저장공간 최적화

### (6) 확장성
- 시스템 운영에 영향을 주지 않으며 새로운 데이터를 계속적으로 추가시켜 나갈 수 있는 방법

### 

---
# 3주차 2교시: 데이터 모델링
## S18. 데이터 모델의 개념 및 ERD 표기법
### (1) 데이터베이스와 현실 세계
**개념적 모델링**: 인간의 이해를 위해 현실 세계에 대한 인식을 추상적 개념으로 표현하는 과정  
**개념적 구조**: 개념적 모델링으로부터 얻은 결과

**데이터 모델링**: 개념적 구조로부터 논리적 개념을 이용하여 어떤 **논리적 구조**로 표현하는 것  
**데이터 구조화**: 논리적 데이터 구조를 컴퓨터가 접근할 수 있는 **물리적 데이터 구조로** 변환시키는 작업

### (2) 데이터베이스 설계 단계
#### ㄱ. 데이터베이스 요구사항 수집 및 분석
- 사용자의 요구사항 얻음
#### ㄴ. 개념 디자인
- ERD 제작
- DBMS 하드웨어 둘 다 독립적
#### ㄷ. 논리 디자인
- 개념적 결과물을 논리적 구조(관계, 계층, 네트워크 모델)로 묘사
- DBMS 종속적, 하드웨어 독립적
#### ㄹ. 물리 디자인
- 저장장치(디스키)에 데이터가 표현될 수 있도록 물리적 데이터 구조로 변환하는 과정
- DBMS, 하드웨어 둘 다 종속적
 
### (3) 데이터 모델
**개념**
- 데이터 구조 S
- 연산 O
- 제약조건 C

**데이터 구조Structure**
- 데이터베이스에 표현될 **대상**
- **개체, 개체 타입**과 이들 간의 관계를 명세

**연산 Operation**
- 데이터베이스에 표현된 개체 인스턴스를 **처리하는 작업**에 대한 명세

**제약 조건 Constraint**
- 데이터베이스에 허용될 수 있는 개체 인스턴스에 대한 **논리적 제약**을 명세

#### ㄱ. ERD 모델
- 1976년 Peter Chen이 제안
- Entity의 Relation을 개념적으로 표현함
- Graph 형태
- DBMS, HW에 무관함

## T19. 개체타입 특징(약한개체 타입, 속성의 유형)
### (1) 개체 타입
개요
- 개체 이름과 애트리뷰트들로 정의
- 기본기: 애트리뷰트 중 개체를 유일하게 식별하는 기능을 갖는 속성

## U20. 약한 개체 (weak entity type)
- 자신만의 애트리뷰트 만으로는 키를 명세할 수 없는 개체 타입
- 다른 개체 타입의 특정 개체와 관련됨으로써 식별됨

> 강한 개체: 자신의 애트리뷰트로 구성된 키를 가진 개체타입

- 약한 개체 타입은 그의 식별 관계에 대해서 항상 전체가 참여하는 제약을 가짐
- 약한 개체 타입의 유일한 식별자
  - 부분키(partial key)

### (2) 속성 유형
#### ㄱ. 단순 속성
- 더 이상 작은 구성요소로 분해할 수 없느 애트리뷰트
#### ㄴ. 복합 속성
- 몇 개의 기본적인 단순 애트리뷰트들로 분해할 수 있는 애트리뷰트 
  - 주소: 동읍면, 우편번호
#### ㄷ. 단일값 속성
- 특정 개체에 하나의 값을 갖는 애트리뷰트 
  - 예시: 나이
#### ㄹ. 다중값 속성
- 다중 값이 가능한 애트리뷰트 
  - 예시: 취미, 전화번호
#### ㅁ. 저장 속성
- 실제 저장되어 데이터베이스에 존재하고 유도 속성의 근원이 되는 속성
  - 학번, 이름, 주민번호
#### ㅂ. 유도 속성
- 다른 관련 속성이나 저장 속성값으로부터 유도
- DB 저장 불필요
  - 예시: 주민번호를 통한 나이 계산

#### ㅅ. Null Attribute
- '해당되지 않는 경우' 혹은 '누락'

## V21. 고나계 타입의 제약조건 및 연결함정
### (1) 관계 타입
#### ㄱ. 개요
- 개체타입과 개체 타입 간에 성립할 수 있는 관계를 총체적으로 정의한 것

> 설명 속성(Descriptive Attribute): 관계가 가질 수 있는 속성

#### ㄴ. 제약조건
- 1:1, 1:N, N:1, N:M

#### ㄷ. 관계타입의 속성
- 선택참여 = 부분참여(한줄)
- 전체참여, 의무적 참여(두줄)

### (2) 연결함정(Connection Trap)
개체-관계 모델링 수행 시 발생할 수 있는 문제점
- **정규화하는 과정**에서 당초 가지고 있는 정보를 잃어버리거나 내용이 애매모호해지는 현상

#### ㄱ. 부채꼴 함정(Fan Trap)
- entity간의 관계모델 설계를 잘못하여 연계된 정보 **Tracing**이 불가능한 경우
- 모델을 변환하여 해결함

> 교수 &rarr; 단과대학 &rarr; 학과  // 이 상태로는 교수가 들어가 있는 학과를 얻을 수 없음
> 교수 &rarr; 학과 &rarr; 단과대학 

#### ㄴ. 균열함정(Chasm Trap)
- 관계가 누락되어 문제가 발생함

> 위치만 바꿔서 해결 못 하는 경우, 새로운 관게를 추가해서 문제를 해결해야함

## W22. 확정 ER 모델 개념
- 일반적인 ERD로는 세부적인 설명이 불가능하여 만들어짐.
- 전문화와 일반화 계승개념을 추가함

### (1) 서브클래스와 슈퍼클래스
- 강개체에 약개체가 두개 이상일 때, // 사실 이 개념은 아닌데 아무튼 이럼, 예를 들면 학생이 학부생과 대학원생의 속성 두개 중 하나를 가질 수 있으니.
- **d(disjoint)**로 표현, 중복으로 표현하지 않음.
- **o(overlap)**로 표현, 중복으로 표현 가능함. 

### (2) 일반화와 세분화

#### ㄱ. 일반화(추상화, 개념화)
- 차이점을 무시하고 공통점을 찾는 것. // 학부생과 대학원생의 공통점은 학생이라는 것. 반대로는 세분화
- 상향식 개념적 설계
- 추상화

#### ㄴ. 세분화(전문화, 구체화)
- 구체적인 하위 개념을 구성 // 일반화의 반대
- 하향식 개념적 설계
- 차이점 강조 

**승용차**
- 등록번호
- 가격 
- 차대번호
- 최고속도

**트럭**
- 가격
- 차대번호
- 등록번호
- 용적율

이 두가지 개체를 조합해서

**자동차**
- 등록번호
- 차대번호
- 가격

이 세가지 속성을 만듦

### (3) 집단화와 연관화
#### ㄱ. 집단화
- 관계와 관계 간의 관계를 설명하기 위해 나옴
- is-part-of

#### ㄴ. 연관화
- 개체와 개체 간의 연관성 여부를 파악
- is-associate-with

## X23. 논리적 데이터 모델의 종류 및 특징
### (1) 관계 데이터 모델
- 데이터베이스
  - **테이블(릴레이션)**의 집합으로 표현
- 행, 열로 구성
- 네트워크, 계층 모델에 비해 추상적
- ORACLE, SYBASE, INFORMIX, MS-SQL, DB12, INGRES1

### (2) 네트워크 데이터 모델
- 데이터베이스
  - 네트워크, 즉 그래프로 표현
- 오너, 멤버의 관계로서 Cycle 허용
- DBTG, TOTAL

### (3) 계층 데이터 모델
- 데이터베이스 - 트리(tree)로 표현
- 부모 자식 관계가 성립
- IMS


